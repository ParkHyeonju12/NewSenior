<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="club">
	<insert id="insertClub" parameterType="c">
		insert into clubs values (clubs_seq.nextval, #{clubName }, #{clubCategory }, #{clubLimit }, #{clubLeader }, #{clubMainImg }, #{clubIntro })
	</insert>
	<select id="selectAllClub" resultType="c">
		select
			club_no as clubNo,
			club_name as clubName,
			club_category as clubCategory,
			club_limit as clubLimit,
			club_Leader as clubLeader,
			filepath as clubMainImg,
			club_intro as clubIntro
		from clubs
		<!-- 세션 들어오면 category로 if문 추가 예정 -->
	</select>
	<select id="selectOneClub" parameterType="int" resultType="c">
		select
			club_no as clubNo,
			club_name as clubName,
			club_category as clubCategory,
			club_limit as clubLimit,
			club_Leader as clubLeader,
			filepath as clubMainImg,
			club_intro as clubIntro
		from clubs
		where club_no = #{clubNo }
	</select>
	<insert id="insertChat" parameterType="cr">
		insert into chat_record values (chat_record_seq.nextval, #{chatClub }, #{chatMember }, #{chatContent }, to_char(sysdate, 'yyyy-mm-dd'), #{filepath } )
	</insert>
	<select id="selectAllClubBoard" parameterType="int" resultType="cb">
		select
			club_board_no as clubBoardNo,
			club_no as clubNo,
			member_no as clubBoardWriter,
			club_board_content as clubBoardContent,
			club_board_date as clubBoardDate,
			filepath as clubBoardFilepath
		from club_boards
		where club_no = #{clubNo }
	</select>
</mapper>
